"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toNativeCallbackWithResponse = exports.toNativeCallback = void 0;
const ffi_napi_1 = require("@2060.io/ffi-napi");
const alloc_1 = require("./alloc");
const primitives_1 = require("./primitives");
const toNativeCallback = (cb) => {
    const nativeCallback = (0, ffi_napi_1.Callback)(primitives_1.FFI_VOID, [primitives_1.FFI_CALLBACK_ID, primitives_1.FFI_ERROR_CODE], cb);
    const id = (0, alloc_1.allocateCallback)(nativeCallback);
    return { nativeCallback, id };
};
exports.toNativeCallback = toNativeCallback;
const toNativeCallbackWithResponse = (cb) => {
    const nativeCallback = (0, ffi_napi_1.Callback)(primitives_1.FFI_VOID, [primitives_1.FFI_CALLBACK_ID, primitives_1.FFI_ERROR_CODE, primitives_1.FFI_STRING], cb);
    const id = (0, alloc_1.allocateCallback)(nativeCallback);
    return { nativeCallback, id };
};
exports.toNativeCallbackWithResponse = toNativeCallbackWithResponse;
//# sourceMappingURL=callback.js.map